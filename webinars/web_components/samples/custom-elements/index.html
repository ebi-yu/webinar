<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>基本的なCustom Element</title>
</head>

<body>
    <h1>基本的なCustom Element</h1>
    <p>独自のHTML要素として定義されたCustom Elementsの例：</p>

    <!-- Custom Elementの使用例 -->
    <my-greeting name="太郎"></my-greeting>
    <my-greeting name="花子"></my-greeting>
    <my-greeting></my-greeting>

    <script>
        // Custom Elementクラスの定義
        class MyGreeting extends HTMLElement {
            constructor() {
                super();
                this.render();
            }

            // 要素の描画
            render() {
                const name = this.getAttribute('name') || 'ゲスト';
                this.innerHTML = `
                    <div style="padding: 15px; border: 2px solid #4CAF50; margin: 10px; border-radius: 8px; background-color: #f9f9f9;">
                        <p style="margin: 0; font-size: 1.1em;">こんにちは、<strong>${name}</strong>さん！</p>
                        <small style="color: #666;">これは基本的なCustom Elementです</small>
                    </div>
                `;
            }

            // 監視対象の属性を指定
            static get observedAttributes() {
                return ['name'];
            }

            // 属性変更時の処理
            attributeChangedCallback(name, oldValue, newValue) {
                if (name === 'name') {
                    this.render();
                }
            }

            // ライフサイクル：DOM追加時
            connectedCallback() {
                console.log('my-greeting要素がDOMに追加されました');
            }

            // ライフサイクル：DOM削除時
            disconnectedCallback() {
                console.log('my-greeting要素がDOMから削除されました');
            }
        }

        // Custom Elementを登録
        customElements.define('my-greeting', MyGreeting);
    </script>
</body>

</html>