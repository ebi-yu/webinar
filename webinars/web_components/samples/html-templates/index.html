<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML Templates基本例</title>
</head>

<body>
    <h1>HTML Templates基本例</h1>

    <!-- テンプレート定義（ブラウザには表示されない） -->
    <template id="card-template">
        <div class="card">
            <h3 class="card-title">
                <slot name="title">タイトル未設定</slot>
            </h3>
            <div class="card-content">
                <slot name="content">内容未設定</slot>
            </div>
            <footer class="card-footer">
                <slot name="footer">フッター未設定</slot>
            </footer>
        </div>
        <style>
            .card {
                border: 1px solid #ccc;
                padding: 20px;
                margin: 10px;
                border-radius: 8px;
                background-color: #f9f9f9;
                max-width: 300px;
            }

            .card-title {
                margin-top: 0;
                color: #333;
                border-bottom: 1px solid #eee;
                padding-bottom: 10px;
            }

            .card-content {
                margin: 15px 0;
                line-height: 1.5;
            }

            .card-footer {
                font-size: 0.8em;
                color: #666;
                border-top: 1px solid #eee;
                padding-top: 10px;
                margin-top: 15px;
            }
        </style>
    </template>

    <!-- テンプレートから生成されるカード -->
    <h2>テンプレートから生成されたカード</h2>
    <div style="display: flex; flex-wrap: wrap;" id="cards-container"></div>

    <!-- Custom Elementとの組み合わせ例 -->
    <h2>Custom Elementでの使用</h2>
    <my-card>
        <span slot="title">Custom Elementカード</span>
        <span slot="content">HTML TemplatesとCustom Elementsを組み合わせた例です。</span>
        <span slot="footer">組み合わせ例</span>
    </my-card>

    <script>
        // テンプレートを使用してカードを作成
        function createCard(title, content, footer) {
            const template = document.getElementById('card-template');
            const cardElement = template.content.cloneNode(true);

            // スロットに内容を設定
            cardElement.querySelector('slot[name="title"]').textContent = title;
            cardElement.querySelector('slot[name="content"]').textContent = content;
            cardElement.querySelector('slot[name="footer"]').textContent = footer;

            return cardElement;
        }

        // カードデータ
        const cards = [
            { title: 'Webinar案内', content: 'Web Componentsについて学びましょう', footer: '2024年8月5日開催' },
            { title: 'HTML Templates', content: '<template>タグで再利用可能なテンプレートを定義できます', footer: 'Web Components技術' },
            { title: 'スロット機能', content: '<slot>タグで外部からコンテンツを挿入できます', footer: 'カスタマイズ可能' }
        ];

        // カードを生成してDOMに追加
        const cardsContainer = document.getElementById('cards-container');
        cards.forEach(card => {
            const cardElement = createCard(card.title, card.content, card.footer);
            cardsContainer.appendChild(cardElement);
        });

        // Custom ElementとHTML Templatesの組み合わせ
        class MyCard extends HTMLElement {
            constructor() {
                super();

                // Shadow DOMを作成
                this.attachShadow({ mode: 'open' });

                // テンプレートから内容をクローン
                const template = document.getElementById('card-template');
                this.shadowRoot.appendChild(template.content.cloneNode(true));
            }
        }

        // Custom Elementを登録
        customElements.define('my-card', MyCard);
    </script>
</body>

</html>